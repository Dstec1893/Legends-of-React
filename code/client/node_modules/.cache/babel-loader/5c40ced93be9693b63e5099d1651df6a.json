{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bureau\\\\Stream\\\\Cours MMI\\\\Projet Ecoal\\\\S4\\\\P\\xE9riode 1\\\\Legends-of-React\\\\code\\\\client\\\\src\\\\leadstory\\\\Leadstory.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport './Leadstory.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Leadstory() {\n  _s();\n\n  const [data, setData] = useState([]);\n\n  async function getArticles() {\n    const data = (await axios.get('http://localhost:8000/leadstory')).data;\n    setData(data);\n  }\n\n  useEffect(() => {\n    getArticles();\n  }, []);\n\n  function displayMedia(type, url) {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"http://localhost:8000/media/\" + url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this);\n  }\n\n  if (data.length == 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: data.map(x => /*#__PURE__*/_jsxDEV(\"article\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/article/\" + x.id,\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"Article_title\",\n          children: x.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 61\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        dangerouslySetInnerHTML: {\n          __html: x.content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: x.origin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Number of player : \", x.nbplayer]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: x.type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 31\n      }, this), displayMedia(x.mediaType, x.mediaURL)]\n    }, x.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 28\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Leadstory, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = Leadstory;\n\nvar _c;\n\n$RefreshReg$(_c, \"Leadstory\");","map":{"version":3,"sources":["D:/Bureau/Stream/Cours MMI/Projet Ecoal/S4/PÃ©riode 1/Legends-of-React/code/client/src/leadstory/Leadstory.js"],"names":["React","useState","useEffect","Link","axios","Leadstory","data","setData","getArticles","get","displayMedia","type","url","length","map","x","id","title","__html","content","origin","nbplayer","mediaType","mediaURL"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAEhC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAE,EAAF,CAAhC;;AAEA,iBAAeO,WAAf,GAA6B;AAC7B,UAAMF,IAAI,GAAG,CAAC,MAAMF,KAAK,CAACK,GAAN,CAAU,iCAAV,CAAP,EAAqDH,IAAlE;AACAC,IAAAA,OAAO,CAACD,IAAD,CAAP;AACD;;AAECJ,EAAAA,SAAS,CAAC,MAAM;AAChBM,IAAAA,WAAW;AACX,GAFS,EAEP,EAFO,CAAT;;AAIA,WAASE,YAAT,CAAsBC,IAAtB,EAA4BC,GAA5B,EAAiC;AAChC,wBAAO;AAAK,MAAA,GAAG,EAAE,iCAAgCA;AAA1C;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAGA,MAAIN,IAAI,CAACO,MAAL,IAAe,CAAnB,EAAsB;AACtB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAGC;;AAED,sBAAQ;AAAA,cAGDP,IAAI,CAACQ,GAAL,CAAUC,CAAC,iBAAK;AAAA,8BACG,QAAC,IAAD;AAAM,QAAA,EAAE,EAAE,cAAaA,CAAC,CAACC,EAAzB;AAAA,qCAA8B;AAAI,UAAA,SAAS,EAAC,eAAd;AAAA,oBAA+BD,CAAC,CAACE;AAAjC;AAAA;AAAA;AAAA;AAAA,gBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,cADH,eAEG;AAAS,QAAA,uBAAuB,EAAE;AAACC,UAAAA,MAAM,EAAEH,CAAC,CAACI;AAAX;AAAlC;AAAA;AAAA;AAAA;AAAA,cAFH,eAGG;AAAA,kBAAKJ,CAAC,CAACK;AAAP;AAAA;AAAA;AAAA;AAAA,cAHH,eAIG;AAAA,0CAAwBL,CAAC,CAACM,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,cAJH,eAKG;AAAA,kBAAKN,CAAC,CAACJ;AAAP;AAAA;AAAA;AAAA;AAAA,cALH,EAMID,YAAY,CAACK,CAAC,CAACO,SAAH,EAAaP,CAAC,CAACQ,QAAf,CANhB;AAAA,OAAcR,CAAC,CAACC,EAAhB;AAAA;AAAA;AAAA;AAAA,YAAhB;AAHC;AAAA;AAAA;AAAA;AAAA,UAAR;AAeH;;GAvCuBX,S;;KAAAA,S","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport './Leadstory.css';\r\n\r\nexport default function Leadstory() {\r\n\r\n    const [data, setData] = useState( [] );\r\n\r\n    async function getArticles() {\r\n    const data = (await axios.get('http://localhost:8000/leadstory')).data;\r\n    setData(data);\r\n  }\r\n\r\n    useEffect(() => {\r\n    getArticles()\r\n   }, []);\r\n\r\n    function displayMedia(type, url) {\r\n     return <img src={\"http://localhost:8000/media/\" +url} />\r\n   }\r\n\r\n\r\n    if (data.length == 0) {\r\n    return(<div>\r\n        Loading data...\r\n        </div>);\r\n    }\r\n\r\n    return (<div>\r\n\r\n        \r\n          {data.map( x =>  <article key={x.id}>\r\n                              <Link to={\"/article/\"+ x.id}> <h1 className=\"Article_title\">{x.title}</h1></Link>\r\n                              <section dangerouslySetInnerHTML={{__html: x.content}}></section>\r\n                              <h1>{x.origin}</h1>\r\n                              <h2>Number of player : {x.nbplayer}</h2>\r\n                              <h3>{x.type}</h3>\r\n                              {displayMedia(x.mediaType,x.mediaURL)}\r\n                           </article>\r\n           )}\r\n\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}