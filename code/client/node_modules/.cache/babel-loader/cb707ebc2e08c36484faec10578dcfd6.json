{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bureau\\\\Stream\\\\Cours MMI\\\\Projet Ecoal\\\\S4\\\\P\\xE9riode 1\\\\Legends-of-React\\\\code\\\\client\\\\src\\\\ListArticles\\\\listearticles.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport \"./listarticles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction displayMedia(type, url) {\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    src: \"http://localhost:8000/media/\" + url\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 13\n  }, this);\n}\n\nexport default function ListArticles(props) {\n  _s();\n\n  const [data, setData] = useState([]);\n  const origin = useRef();\n  const player = useRef();\n  const type = useRef();\n\n  function updateData(e) {\n    let myOrigin = origin.current.value;\n    let myNbPlayer = player.current.value;\n    let myType = type.current.value;\n    let myData = props.data;\n\n    if (myOrigin.toUpperCase() != \"ALL\") {\n      myData = myData.filter(article => article.origin == myOrigin.toUpperCase());\n    }\n\n    console.log(myData);\n\n    if (myNbPlayer.toUpperCase() != \"ALL\") {\n      myData = myData.filter(article => article.nbplayer == myNbPlayer.toUpperCase());\n    }\n\n    if (myType.toUpperCase() != \"ALL\") {\n      myData = myData.filter(article => article.type == myType.toUpperCase());\n    }\n\n    console.log(myData);\n    setData(myData);\n  }\n\n  useEffect(() => {\n    setData(props.data);\n  }, [props.data]);\n\n  async function del(event) {\n    let id = event.target.id;\n    console.log(\"refresh begi\");\n    const data = (await axios.delete('http://localhost:8000/articles/' + id)).data; //setData(data);\n\n    props.refresh();\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Articles !!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      ref: origin,\n      onChange: updateData,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"France\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Ireland\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Portugal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Spain\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"United Kingdom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Italy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      ref: player,\n      onChange: updateData,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"+10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      ref: type,\n      onChange: updateData,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"All\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"CardGame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"BoardGame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"OutdoorGame\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), data.map(x => /*#__PURE__*/_jsxDEV(\"article\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/article/\" + x.id,\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"Article_title\",\n          children: x.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 61\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Origin : \", x.origin]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Number of player : \", x.nbplayer]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Type : \", x.type]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        dangerouslySetInnerHTML: {\n          __html: x.content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: x.id,\n        onClick: del,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 31\n      }, this), displayMedia(x.mediaType, x.mediaURL)]\n    }, x.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 28\n    }, this))]\n  }, void 0, true);\n}\n\n_s(ListArticles, \"79S89XqmdV8URAfqGR+L3z0/f/M=\");\n\n_c = ListArticles;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListArticles\");","map":{"version":3,"sources":["D:/Bureau/Stream/Cours MMI/Projet Ecoal/S4/PÃ©riode 1/Legends-of-React/code/client/src/ListArticles/listearticles.js"],"names":["React","useState","useEffect","useRef","Link","axios","displayMedia","type","url","ListArticles","props","data","setData","origin","player","updateData","e","myOrigin","current","value","myNbPlayer","myType","myData","toUpperCase","filter","article","console","log","nbplayer","del","event","id","target","delete","refresh","map","x","title","__html","content","mediaType","mediaURL"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport \"./listarticles.css\";\r\n\r\n\r\n   function displayMedia(type, url) {\r\n     return <img src={\"http://localhost:8000/media/\" +url} />\r\n   }\r\n\r\n\r\n\r\nexport default function ListArticles(props) {\r\n\r\n  const [data, setData] = useState( [] );\r\n\r\n  const origin = useRef();\r\n  const player = useRef();\r\n  const type = useRef();\r\n\r\nfunction updateData(e) {\r\n\t\r\n\tlet myOrigin = origin.current.value\r\n\tlet myNbPlayer = player.current.value\r\n\tlet myType = type.current.value\r\n\r\n\tlet myData = props.data\r\n\r\n\tif (myOrigin.toUpperCase() != \"ALL\") {\r\n\t\tmyData = myData.filter( (article) =>  article.origin == myOrigin.toUpperCase())\r\n\t} \r\n\r\n\tconsole.log(myData)\r\n\tif (myNbPlayer.toUpperCase() != \"ALL\") {\r\n\t\tmyData = myData.filter( (article) =>  article.nbplayer == myNbPlayer.toUpperCase())\r\n\t} \r\n\t\t\r\n\tif (myType.toUpperCase() != \"ALL\") {\r\n\t\tmyData = myData.filter( (article) =>  article.type == myType.toUpperCase())\r\n\t} \r\n\r\n\tconsole.log(myData)\r\n\tsetData(myData)\t\t\r\n\t\r\n}\r\n\r\n useEffect(() => {\r\n    setData(props.data);\r\n  }, [props.data]);\r\n\r\n\r\n  async function del(event) {\r\n    let id = event.target.id\r\n    console.log(\"refresh begi\")\r\n    const data = (await axios.delete('http://localhost:8000/articles/'+id)).data;\r\n    //setData(data);\r\n   props.refresh()\r\n  }\r\n\r\n\r\nreturn (\r\n <>\r\n        <h1>\r\n            Articles !!\r\n        </h1>\r\n\r\n      <select ref={origin} onChange={updateData}>\r\n      \t<option>All</option>\r\n        <option>France</option>\r\n        <option>Ireland</option>\r\n        <option>Portugal</option>\r\n        <option>Spain</option>\r\n        <option>United Kingdom</option>\r\n        <option>Italy</option>\r\n      </select>\r\n\r\n      <select ref={player} onChange={updateData}>\r\n      \t<option>All</option>\r\n        <option>2</option>\r\n        <option>3</option>\r\n        <option>4</option>\r\n        <option>5</option>\r\n        <option>6</option>\r\n        <option>7</option>\r\n        <option>8</option>\r\n        <option>9</option>\r\n        <option>+10</option>\r\n      </select>\r\n\r\n\r\n      <select ref={type} onChange={updateData}>\r\n      \t<option>All</option>\r\n        <option>CardGame</option>\r\n        <option>BoardGame</option>\r\n        <option>OutdoorGame</option>\r\n      </select>\r\n\r\n\r\n          {data.map( x =>  <article  key={x.id}>\r\n                              <Link to={\"/article/\"+ x.id}> <h1 className=\"Article_title\">{x.title}</h1></Link>\r\n                              <h1>Origin : {x.origin}</h1>\r\n                              <h2>Number of player : {x.nbplayer}</h2>\r\n                              <h3>Type : {x.type}</h3>\r\n                              <section dangerouslySetInnerHTML={{__html: x.content}}></section>\r\n                              <button id={x.id} onClick={del}>Delete</button>\r\n                              {displayMedia(x.mediaType,x.mediaURL)}\r\n                           </article>\r\n           )}\r\n      </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}